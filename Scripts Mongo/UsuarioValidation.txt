{
  $jsonSchema: {
    bsonType: 'object',
    title: 'Usuario',
    properties: {
      _id: {
        bsonType: 'objectId'
      },
      nombres: {
        bsonType: 'string',
        maxLength: 50,
        minLength: 0
      },
      apellidos: {
        bsonType: 'string',
        maxLength: 50,
        minLength: 1
      },
      correo: {
        bsonType: 'string',
        maxLength: 50,
        minLength: 1
      },
      'contrase単a': {
        bsonType: 'string',
        maxLength: 30,
        minLength: 1
      },
      articulos: {
        bsonType: 'array',
        additionalItems: true,
        items: {
          bsonType: 'object',
          properties: {
            idArticulo: {
              bsonType: 'objectId'
            },
            descartado: {
              bsonType: 'bool'
            },
            favorito: {
              bsonType: 'bool'
            }
          },
          additionalProperties: false,
          required: [
            'idArticulo',
            'descartado',
            'favorito'
          ]
        }
      },
      resultados: {
        bsonType: 'array',
        additionalItems: true,
        items: {
          bsonType: 'object',
          properties: {
            _id: {
              bsonType: 'objectId'
            },
            numArticulos: {
              bsonType: 'number',
              minimum: 0
            },
            fechaExtraccion: {
              bsonType: 'date'
            },
            estado: {
              bsonType: 'number',
              maximum: 3,
              minimum: 0
            }
          },
          additionalProperties: false,
          required: [
            '_id',
            'fechaExtraccion',
            'estado'
          ]
        }
      }
    },
    additionalProperties: false,
    required: [
      '_id',
      'nombres',
      'apellidos',
      'correo',
      'contrase単a',
      'articulos'
    ]
  }
}

#shell

use WebCrawler;

db.createCollection("Usuario", {
    "capped": false,
    "validator": {
        "$jsonSchema": {
            "bsonType": "object",
            "title": "Usuario",
            "properties": {
                "_id": {
                    "bsonType": "objectId"
                },
                "nombres": {
                    "bsonType": "string",
                    "maxLength": 50,
                    "minLength": 0
                },
                "apellidos": {
                    "bsonType": "string",
                    "maxLength": 50,
                    "minLength": 1
                },
                "correo": {
                    "bsonType": "string",
                    "maxLength": 50,
                    "minLength": 1
                },
                "contrase単a": {
                    "bsonType": "string",
                    "maxLength": 30,
                    "minLength": 1
                },
                "articulos": {
                    "bsonType": "array",
                    "additionalItems": true,
                    "items": {
                        "bsonType": "object",
                        "properties": {
                            "idArticulo": {
                                "bsonType": "objectId"
                            },
                            "descartado": {
                                "bsonType": "bool"
                            },
                            "favorito": {
                                "bsonType": "bool"
                            }
                        },
                        "additionalProperties": false,
                        "required": [
                            "idArticulo",
                            "descartado",
                            "favorito"
                        ]
                    }
                },
                "resultados": {
                    "bsonType": "array",
                    "additionalItems": true,
                    "items": {
                        "bsonType": "object",
                        "properties": {
                            "_id": {
                                "bsonType": "objectId"
                            },
                            "fechaExtraccion": {
                                "bsonType": "date"
                            },
                            "estado": {
                                "bsonType": "number",
                                "maximum": 3,
                                "minimum": 0
                            }
                        },
                        "additionalProperties": false,
                        "required": [
                            "_id",
                            "fechaExtraccion",
                            "estado"
                        ]
                    }
                }
            },
            "additionalProperties": false,
            "required": [
                "_id",
                "nombres",
                "apellidos",
                "correo",
                "contrase単a",
                "articulos"
            ]
        }
    },
    "validationLevel": "strict",
    "validationAction": "error"
});